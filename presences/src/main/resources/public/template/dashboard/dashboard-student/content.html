<div class="dashboard-student-main-content margin-bottom-md">
    <!-- Historic displaying student name -->
    <div class="margin-bottom-md">
        <i18n>presences.student.historic</i18n>&nbsp;[[vm.filter.selectedChildren.displayName]]
    </div>

    <!-- select structure -->
    <div class="dashboard-student-main-header-selectChild" ng-if="model.me.structures.length > 1">
        <label>
            <select class="card" required
                    data-ng-change="vm.switchStructure()"
                    data-ng-model="model.me.structureNames"
                    data-ng-options="structure as structureNames for structure in model.me.structureNames">
            </select>
        </label>
    </div>

    <!-- select period (select current based on datenow() period by default) -->
    <div class="dashboard-student-content-selectPeriod margin-bottom-md" ng-if="vm.filter.periods.length !== 0">
        <label>
            <select class="card" required
                    data-ng-change="vm.switchPeriod()"
                    data-ng-model="vm.filter.selectedPeriod"
                    ng-options="period as period.label for period in vm.filter.periods">
            </select>
        </label>
    </div>

    <div>
        <!-- absences noreason -->
        <events-card event-title="vm.eventsTitle.absencesNoReason"
                     student="vm.filter.selectedChildren"
                     period="vm.filter.selectedPeriod"
                     events="vm.presenceEvents.all.NO_REASON"
                     type="vm.types.NO_REASON"
                     event-count="vm.presenceEvents.totals.NO_REASON"
                     recovery-method="vm.getRecoveryMethodLabel(vm.presenceEvents.recovery_method)"
                     color="vm.color.red">
        </events-card>

        <!-- absences unregularized -->
        <events-card event-title="vm.eventsTitle.absencesUnregularized"
                     student="vm.filter.selectedChildren"
                     period="vm.filter.selectedPeriod"
                     class="top20"
                     events="vm.presenceEvents.all.UNREGULARIZED"
                     type="vm.types.UNREGULARIZED"
                     event-count="vm.presenceEvents.totals.UNREGULARIZED"
                     recovery-method="vm.getRecoveryMethodLabel(vm.presenceEvents.recovery_method)"
                     color="vm.color.pink">
        </events-card>

        <!-- absences regularized -->
        <events-card event-title="vm.eventsTitle.absencesRegularized"
                     student="vm.filter.selectedChildren"
                     period="vm.filter.selectedPeriod"
                     class="top20"
                     events="vm.presenceEvents.all.REGULARIZED"
                     type="vm.types.REGULARIZED"
                     event-count="vm.presenceEvents.totals.REGULARIZED"
                     recovery-method="vm.getRecoveryMethodLabel(vm.presenceEvents.recovery_method)"
                     color="vm.color.green">
        </events-card>

        <!-- lateness -->
        <events-card event-title="vm.eventsTitle.lateness"
                     student="vm.filter.selectedChildren"
                     period="vm.filter.selectedPeriod"
                     class="top20"
                     type="vm.types.LATENESS"
                     events="vm.presenceEvents.all.LATENESS"
                     event-count="vm.presenceEvents.totals.LATENESS"
                     color="vm.color.purple">
        </events-card>

        <!-- incident -->
        <events-card ng-if="!hasRight('presences1D')"
                     event-title="vm.eventsTitle.incidents"
                     student="vm.filter.selectedChildren"
                     period="vm.filter.selectedPeriod"
                     class="top20"
                     type="vm.types.INCIDENT"
                     events="vm.incidentsEvents.all.INCIDENT"
                     event-count="vm.incidentsEvents.totals.INCIDENT"
                     color="vm.color.grey">
        </events-card>

        <!-- punishments -->
        <events-card ng-if="!hasRight('presences1D')"
                     event-title="vm.eventsTitle.punishments"
                     student="vm.filter.selectedChildren"
                     period="vm.filter.selectedPeriod"
                     class="top20"
                     type="vm.types.PUNISHMENT"
                     events="vm.incidentsEvents.all.PUNISHMENT"
                     event-count="vm.incidentsEvents.totals.PUNISHMENT"
                     color="vm.color.yellow">
        </events-card>

        <!-- forgotten notebook -->
        <events-card ng-if="!hasRight('presences1D')"
                     event-title="vm.eventsTitle.forgottenNotebook"
                     student="vm.filter.selectedChildren"
                     period="vm.filter.selectedPeriod"
                     class="top20"
                     type="vm.types.NOTEBOOK"
                     events="vm.forgottenNotebook.all"
                     event-count="vm.forgottenNotebook.totals"
                     color="vm.color.turquoise">
        </events-card>

        <!-- departure -->
        <events-card event-title="vm.eventsTitle.departure"
                     student="vm.filter.selectedChildren"
                     period="vm.filter.selectedPeriod"
                     class="top20"
                     type="vm.types.DEPARTURE"
                     events="vm.presenceEvents.all.DEPARTURE"
                     event-count="vm.presenceEvents.totals.DEPARTURE"
                     color="vm.color.lightpurple">
        </events-card>
    </div>
</div>
